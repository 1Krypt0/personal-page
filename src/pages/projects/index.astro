---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ProjectCard from "../../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<BaseLayout>
  <main class="md:px-40 xl:px-0 xl:w-2/5 mx-auto text-dark">
    <h1
      class="font-heading text-3xl md:text-6xl pb-16 text-center md:text-start"
    >
      Projects
    </h1>
    <li class="list-none flex flex-col gap-10 text-center md:text-start">
      {
        projects.map((project) => (
          <ProjectCard slug={project.slug} {...project.data} />
        ))
      }
    </li>
  </main>
</BaseLayout>
